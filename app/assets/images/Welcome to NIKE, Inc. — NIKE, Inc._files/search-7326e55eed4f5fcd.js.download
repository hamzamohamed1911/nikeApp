(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7604],{1455:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(9499),u=(r(7294),r(5752)),a=r(2),o=r(8733),c=r(7760),s=r(2492),i=r(5944);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var p={name:"z5atxi",styles:"display:flex;flex-direction:column;flex-grow:1"};var f=function(e){var t=e.results,r=e.flush,f=e.status,y=(0,u.$)().t,v=(0,c.Z)();return(0,i.tZ)("div",{css:p,children:"loading"===f?(0,i.tZ)(s.Z,{fill:!0}):t&&(0,i.tZ)(o.Z,{items:t,flush:r,renderItem:function(e,t){var r=(0,a.g5)(e,y,v);return r?(0,i.tZ)(o.W,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r),t):null}})})}},7134:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});r(7294);var n=r(4275),u=r(6560),a=r(5752),o=r(7760),c=r(5944),s={display:"flex",justifyContent:"center",marginTop:n.ds.space(["28",null,"40",null,"48"])},i=function(e){var t=e.query,r=e.resultsCount,i=void 0===r?null:r,l=(0,a.$)().t,p=(0,o.Z)(),f="global.result_plural";0===i&&(f="global.result_zero"),1===i&&(f="global.result");var y='<span style="color:'.concat(n.ds.color("gray.560"),'">&nbsp;"{{ keyword }}"</span>');"zh-Hant"===p&&(y='<span style="color:'.concat(n.ds.color("gray.560"),'">&nbsp;{{ keyword }}&nbsp;</span>'));var v=l(f,{n:i,keyword:t},{keyword:y});return(0,c.tZ)("div",{css:(0,n.mq)([u.M.ui2,s]),dangerouslySetInnerHTML:{__html:v}})}},5268:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return x},default:function(){return E}});var n=r(9499),u=r(4730),a=r(7191),o=r(7294),c=r(1163),s=r(5752),i=r(3248),l=r(3390),p=r(5343),f=r(4671),y=r(8597),v=(0,f.Z)((0,y.XR)((function(e){return{searchInput:"",searchInputSet:function(t){e({searchInput:t})},clearSearch:function(){e({searchInput:""})}}}))),d=r(1455),h=r(7134),b=r(4275),g=r(2676),m=r(2328).Z,O=r(2218),Z=r(1614),q=r(7760),w=r(5944);var j={name:"8qz8ia",styles:"padding-top:20px"},_=function(e){var t=e.items,r=e.searchInput,n=e.onInputValueChange,u=(0,c.useRouter)(),a=(0,q.Z)(),s=o.useCallback((function(e){u.push("/".concat(a,"/search?q=").concat(e))}),[u,a]);return(0,w.tZ)(g.Z,{name:"inverse",css:(0,b.mq)([(0,Z.Z)(b.ds.color("gray")),{background:b.ds.color("gray"),paddingTop:"60px"}]),children:(0,w.BX)("div",{css:j,children:[(0,w.tZ)(m,{inputValue:r,onInputValueChange:n,onSubmit:s}),(0,w.tZ)(O.Z,{items:t})]})})},P=["q"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=!0,E=function(e){var t,r,n,f;(0,a.Z)(e);var y=(0,c.useRouter)(),b=(0,s.$)().t,g=null!==(t=y.query)&&void 0!==t&&t.q?null===(r=y.query)||void 0===r?void 0:r.q:null,m=null!==(n=y.query)&&void 0!==n&&n.area?null===(f=y.query)||void 0===f?void 0:f.area:null,O=(0,l.R)({requireQuery:!0,area:m}),Z=O.results,q=O.meta,j=O.status,I=v((function(e){return e.searchInput})),x=v((function(e){return e.searchInputSet})),E=o.useRef(null);o.useEffect((function(){var e;null===E.current&&"string"===typeof y.query.q&&(E.current=null!==(e=y.query.q)&&void 0!==e?e:"",x(E.current))}),[x,E,y.query]);var S=o.useRef();o.useEffect((function(){var e=v.subscribe((function(e){return e.searchInput}),(function(e){S.current&&clearTimeout(S.current),S.current=setTimeout((function(){var t=y.query,r=(t.q,(0,u.Z)(t,P)),n=e?k(k({},r),{},{q:e}):r;y.push({pathname:y.pathname,query:n})}),500)}));return function(){S.current&&clearTimeout(S.current),e()}}),[y]);var C=o.useCallback((function(e){x(e)}),[x]),D=(0,o.useMemo)((function(){return[{area:null,text:b("results.all.name")},{area:"stories",text:b("navigation.stories")},{area:"newsroom",text:b("navigation.newsroom")},{area:"impact",text:b("navigation.impact")},{area:"company",text:b("navigation.company")}].map((function(e){var t;return{active:e.area===m,label:e.text,href:{pathname:y.pathname,query:k(k({},y.query),{},{area:null!==(t=e.area)&&void 0!==t?t:void 0})}}}))}),[b,m,y]);return(0,w.BX)(o.Fragment,{children:[(0,w.tZ)(_,{searchInput:I,onInputValueChange:C,items:D}),"string"===typeof g&&Z&&(0,w.tZ)(h.Z,{query:g,resultsCount:Z.length}),Z&&(0,w.tZ)(d.Z,{results:Z,status:j,flush:!0}),q?(0,w.tZ)(i.Z,{data:q}):(0,w.tZ)(p.Z,{})]})}},8152:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lang]/search",function(){return r(5268)}])}},function(e){e.O(0,[9984,8733,8585,9774,2888,179],(function(){return t=8152,e(e.s=t);var t}));var t=e.O();_N_E=t}]);